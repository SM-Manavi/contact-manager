<%- include('../partials/header.ejs') %>
</head>
<body>
    <%- include('../partials/navigation.ejs') %>

    <div class="container">
        <nav class="navbar navbar-light bg-light">
            <a class="btn btn-primary" href="/contacts/add-contact">Add Contact</a>
            <div class="d-flex justify-content-end">
                <div class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2 searchVal" type="search" placeholder="Search by name" aria-label="Search">
                    <button class="search btn btn-outline-success my-2 my-sm-0">Search</button>
                </div>
            </div>
        </nav>

          <div class="bg-light">
            <div id="mylist">
            <% if(user.contacts.length > 0) { 
              for(contact of user.contacts) {%>
              <div class="card mb-3" >
                  <div class="row no-gutters">
                    <div class="col-md-2">
                      <img src="./pic/background.jpg" class="card-img my-2" alt="...">
                    </div>
                    <div class="col-md-8">
                      <div class="card-body p-3">
                        <h5 class="card-title text-info"><%= contact.name %></h5>

                        <div class="d-flex">
                          <h6 class="card-text mr-2">Mobile:</h6>
                          <h6 class="card-text text-secondary"> <%= contact.mobile.join(' | ') %> </h6>
                        </div>

                        <div class="d-flex">
                          <h6 class="card-text mr-2">Email:</h6>
                          <h6 class="card-text text-secondary"> <%= contact.email %></h6>
                        </div>
                        
                        <div class="d-flex ">
                          <p class="card-text flex-grow-1 my-2"><small class="text-muted">Last updated 3 mins ago</small></p>
                              <a class="btn btn-secondary px-4" href="/contacts/<%= contact.contactId %>/edit">Edit</a>
                              <a class="btn btn-danger ml-3" href="/contacts/<%= contact.contactId %>/delete">Delete</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <% }
              } %>
            </div>
                <div class="d-flex justify-content-center">
                  <nav aria-label="Page navigation">
                      <ul class="pagination">
                      <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                      <li class="page-item"><a class="page-link" href="#">1</a></li>
                      <li class="page-item"><a class="page-link" href="#">2</a></li>
                      <li class="page-item"><a class="page-link" href="#">3</a></li>
                      <li class="page-item"><a class="page-link" href="#">Next</a></li>
                      </ul>
                  </nav>
              </div>
          </div>

    </div>

    <div class="card mb-3" id="hiddenList" style="display:none;" >
      <div class="row no-gutters">
        <div class="col-md-2">
          <img src="./pic/background.jpg" class="card-img my-2" alt="...">
        </div>
        <div class="col-md-8">
          <div class="card-body p-3">
            <h5 class="card-title text-info"><%= contact.name %></h5>

            <div class="d-flex">
              <h6 class="card-text mr-2">Mobile:</h6>
              <h6 class="card-text text-secondary contactMobile"> <%= contact.mobile.join(' | ') %> </h6>
            </div>

            <div class="d-flex">
              <h6 class="card-text mr-2">Email:</h6>
              <h6 class="card-text text-secondary contactEmail"> <%= contact.email %></h6>
            </div>
            
            <div class="d-flex ">
              <p class="card-text flex-grow-1 my-2"><small class="text-muted">Last updated 3 mins ago</small></p>
                  <a class="btn btn-secondary px-4 contactEdit" href="/contacts/<%= contact.contactId %>/edit">Edit</a>
                  <a class="btn btn-danger ml-3 contactDelete" href="/contacts/<%= contact.contactId %>/delete">Delete</a>
            </div>
          </div>
        </div>
      </div>
    </div>

  <%- include('../partials/footer.ejs') %>
